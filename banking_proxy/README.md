# BankingProxy

The banking proxy allows for a limited interaction with a
banking account.

## Dev Installation

Several credentials are needed to run the application.

### SSL certificates

First download the SSL certificate generation script:

https://github.com/michaelklishin/tls-gen

Then run it (without setting a password) with the "basic"
settings. Place the resulting certificates in the `certs/`
folder within this project.

### Bunq

Bunq requires several tokens & keys. These can be generated by
the setup tool. Run `mix escript.build` to generate it. Now get a Bunq API key via their app.

Run `./banking_setup <BUNQ_API_KEY>` to generate the tokens. It
will ask to generate the `config/dev.exs` file when in
development mode.

## Production Installation

Build a release via:

https://github.com/eyra/mono/actions

Go to "Release Banking Proxy" and "Run workflow".

Take the release artifacts. The `banking_setup` tool can be used
on a machine with Erlang installed (no need for Elixir). Run it
to generate the tokens etc. needed. It needs a Bunq API key as
argument.

Next create SSL certificates (see dev section).

Configure the server so that the environment variables as defined in `config/runtime.exs` are set.
